# Backend

## Repository structure
```
├── README.md
├── app (FastAPI code stored here)
│   ├── __init__.py
│   ├── cache.py (Handles in-memory + file-based caching logic)
│   ├── helper.py
│   └── main.py
├── cache.json (Auto-generated by cache.py to persist cache data between runs)
├── pyproject.toml
├── pytest.ini
├── setup (Populate DynamoDB with portfolio data)
│   ├── portfolio.json (Alternative: Update the `get_portfolio_securities` function in `backend/app/helper.py` to use this data)
│   └── setup_db.py
├── tests (PyTests)
│   ├── test_helper.py
│   ├── test_main.py
│   ├── test_portfolio.py
│   └── test_returns.py
└── uv.lock
```

## Set Up
- Download and install uv from https://docs.astral.sh/uv/getting-started/installation/
- Run `uv venv` to create venv
- Run `source .venv/bin/activate` for mac/linux to start venv or `.venv\Scripts\activate` for windows
- Run `uv sync` to download dependencies
- Run `uv run fastapi dev` to start the api running on local host port 8000

### Notes
-  If you do not wish to deploy a DynamoDB, a mock dataset is available at `backend/setup/portfolio.json`. Update the `get_portfolio_securities` function in `backend/app/helper.py` to use this data instead.(Refer to `screenshot/mock_db_data.png`)
- A `cache.json` can be found in this directory - This is mainly used for a caching mechanism setup in `app/cache.py`. Deleting the current cache.json will not affect the functionality. A new cache.json will be created when you hit the API again.
